<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
<title>News</title>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="description" content="Course Project">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="stylesheet" type="text/css" href="styles/bootstrap4/bootstrap.min.css">
<link href="plugins/fontawesome-free-5.0.1/css/fontawesome-all.css" rel="stylesheet" type="text/css">
<link rel="stylesheet" type="text/css" href="styles/test_styles.css">
<link rel="stylesheet" type="text/css" href="styles/test_responsive.css">
</head>
<body>

<div class="super_container">

	<div id="fade" class="black_overlay" style="height: 200%"></div>
	<!-- 悬浮窗口 -->
	<div id="custom" class="white_content" style="height: 490px">
		<p class="kiss" style="font-size: 24px;height: 60px;font-weight: 500">
			<span  style="font-size:22px;width:120px">Web安全：</span>
		</p>
		<p class="hr"></p>
		<p class="kiss">
			<label style="font-size: 18px;font-weight:600;color: #1b1e21c9;"><input style="margin-right:10px" type="checkbox" id="easy" name="easy"/>简单：</label>
			<input type="text" class="num-input" id="easy_num" name="easy_num" disabled="disabled">
			<label class="deploy-label">题目数量</label>
		</p>
		<p class="kiss">
			<label style="margin-top:20px;font-size: 18px;font-weight:600;color: #1b1e21c9;"><input style="margin-right:10px" type="checkbox" id="middle" name="middle"/>中等：</label>
			<input type="text" class="num-input" id="middle_num" name="middle_num" disabled="disabled">
			<label class="deploy-label">题目数量</label>
		</p>
		<p class="kiss">
			<label style="font-size: 18px;font-weight:600;color: #1b1e21c9;"><input style="margin-right:10px" type="checkbox" id="hard" name="hard"/>困难：</label>
			<input type="text" class="num-input" id="hard_num" name="hard_num" disabled="disabled">
			<label class="deploy-label">题目数量</label>
		</p>
		<p class="kiss">
			<label style="font-size: 18px;font-weight:600;color: #1b1e21c9;"><input style="margin-right:10px" type="checkbox" id="isInclude" name="isInclude"/>是否包括已完成题目</label>
		</p>
		<!--<p class="hr"></p>-->
		<p class="kiss" style="height: 40px">
			<button class="page-button" onclick="addDeploy()">开始测试</button>
		</p>
		<a href="javascript:void(0)" onclick="two()">Close</a>
	</div>

	<!-- Header -->
	<header class="header d-flex flex-row">
		<div th:replace="/common/header :: navi">

		</div>
		<div th:include="/common/header :: login" th:if="${user != null}" id="login" class="header_side d-flex flex-row justify-content-center align-items-center">

		</div>
		<div th:include="/common/header :: unlogin" th:if="${user == null}" id="unlogin" class="header_side d-flex flex-row justify-content-center align-items-center">

		</div>
		<input id="user" type="hidden" th:value="${user}">
		<!-- Hamburger -->
		<div class="hamburger_container">
			<i class="fas fa-bars trans_200"></i>
		</div>

	</header>

	<header th:replace="/common/header :: search">

	</header>
	<!-- Menu -->



	<div class="home">
		<div class="home_background_container prlx_parent">
			<div class="home_background prlx" style="background-image:url(/images/news_background.jpg)"></div>
		</div>
		
	</div>

	<!-- exp -->

	<div class="news">
			<div class="container">
				<div class="row">

					<!-- Exps Column -->

					<div class="col-sm-6 col-md-4">
						<a class="startExpTest" test-type="expTest" href="javascript:"value = "Web安全" onclick="document.getElementById('custom').style.display='block';document.getElementById('fade').style.display='block'">
							<div class="card rc_4">

								<div class="circle">
									<div class="icon" data-reactid=".0.0.0.4.0.0.$card-skill-challenge.0.0.0">
										<img alt="" th:src="@{/images/icon_selfguided.png}" class="img-responsive" data-reactid=".0.0.0.4.0.0.$card-skill-challenge.0.0.0.0">
									</div>
								</div>
								<h2>Web安全</h2>
							</div>
						</a>
					</div>
					<div class="col-sm-6 col-md-4">

						<div class="card rc_4">
							<!-- News Post -->
							<div class="circle">
								<div class="icon" data-reactid=".0.0.0.4.0.0.$card-skill-challenge.0.0.0">
									<img alt="" th:src="@{/images/icon_simulatedexam.png}" class="img-responsive" data-reactid=".0.0.0.4.0.0.$card-skill-challenge.0.0.0.0">
								</div>
							</div>
							<h2>密码学</h2>
						</div>
					</div>
					<div class="col-sm-6 col-md-4">

						<div class="card rc_4">
							<!-- News Post -->
							<div class="circle">
								<div class="icon" data-reactid=".0.0.0.4.0.0.$card-skill-challenge.0.0.0">
									<img alt="" th:src="@{/images/icon_personalize.png}" class="img-responsive" data-reactid=".0.0.0.4.0.0.$card-skill-challenge.0.0.0.0">
								</div>
							</div>
							<h2>逆向工程</h2>
						</div>
					</div>
					<div class="col-sm-6 col-md-4">

						<div class="card rc_4">
							<!-- News Post -->
							<div class="circle">
								<div class="icon" data-reactid=".0.0.0.4.0.0.$card-skill-challenge.0.0.0">
									<img alt="" th:src="@{/images/icon_progressive.png}" class="img-responsive" data-reactid=".0.0.0.4.0.0.$card-skill-challenge.0.0.0.0">
								</div>
							</div>
							<h2>隐写术</h2>
						</div>
					</div>
					<div class="col-sm-6 col-md-4">

						<div class="card rc_4">
							<!-- News Post -->
							<div class="circle">
								<div class="icon" data-reactid=".0.0.0.4.0.0.$card-skill-challenge.0.0.0">
									<img alt="" th:src="@{/images/icon_progressive.png}" class="img-responsive" data-reactid=".0.0.0.4.0.0.$card-skill-challenge.0.0.0.0">
								</div>
							</div>
							<h2>shell提权</h2>
						</div>
					</div>
					<div class="col-sm-6 col-md-4">

						<div class="card rc_4">
							<!-- News Post -->
							<div class="circle">
								<div class="icon" data-reactid=".0.0.0.4.0.0.$card-skill-challenge.0.0.0">
									<img alt="" th:src="@{/images/icon_progressive.png}" class="img-responsive" data-reactid=".0.0.0.4.0.0.$card-skill-challenge.0.0.0.0">
								</div>
							</div>
							<h2>溯源取证</h2>
						</div>
					</div>
					<div class="col-sm-6 col-md-4">

						<div class="card rc_4">
							<!-- News Post -->
							<div class="circle">
								<div class="icon" data-reactid=".0.0.0.4.0.0.$card-skill-challenge.0.0.0">
									<img alt="" th:src="@{/images/icon_progressive.png}" class="img-responsive" data-reactid=".0.0.0.4.0.0.$card-skill-challenge.0.0.0.0">
								</div>
							</div>
							<h2>数据分析</h2>
						</div>
					</div>
					<div class="col-sm-6 col-md-4">

						<div class="card rc_4">
							<!-- News Post -->
							<div class="circle">
								<div class="icon" data-reactid=".0.0.0.4.0.0.$card-skill-challenge.0.0.0">
									<img alt="" th:src="@{/images/icon_progressive.png}" class="img-responsive" data-reactid=".0.0.0.4.0.0.$card-skill-challenge.0.0.0.0">
								</div>
							</div>
							<h2>安全编程</h2>
						</div>
					</div>
				</div>
			</div>
	</div>

	<!-- exp -->

	<div class="news">
			<div class="container">
				<div class="row">

					<!-- Exps Column -->

					<div class="col-sm-6 col-md-4">
						<a class="startFctfTest" test-type="fctfTest" href="javascript:"value = "Web">
							<div class="card rc_4">

								<div class="circle">
									<div class="icon" data-reactid=".0.0.0.4.0.0.$card-skill-challenge.0.0.0">
										<img alt="" th:src="@{/images/icon_selfguided.png}" class="img-responsive" data-reactid=".0.0.0.4.0.0.$card-skill-challenge.0.0.0.0">
									</div>
								</div>
								<h2>Web</h2>
							</div>
						</a>
					</div>
					<div class="col-sm-6 col-md-4">

						<div class="card rc_4">
							<!-- News Post -->
							<div class="circle">
								<div class="icon" data-reactid=".0.0.0.4.0.0.$card-skill-challenge.0.0.0">
									<img alt="" th:src="@{/images/icon_simulatedexam.png}" class="img-responsive" data-reactid=".0.0.0.4.0.0.$card-skill-challenge.0.0.0.0">
								</div>
							</div>
							<h2>reversing</h2>
						</div>
					</div>
					<div class="col-sm-6 col-md-4">

						<div class="card rc_4">
							<!-- News Post -->
							<div class="circle">
								<div class="icon" data-reactid=".0.0.0.4.0.0.$card-skill-challenge.0.0.0">
									<img alt="" th:src="@{/images/icon_personalize.png}" class="img-responsive" data-reactid=".0.0.0.4.0.0.$card-skill-challenge.0.0.0.0">
								</div>
							</div>
							<h2>crypto</h2>
						</div>
					</div>
					<div class="col-sm-6 col-md-4">

						<div class="card rc_4">
							<!-- News Post -->
							<div class="circle">
								<div class="icon" data-reactid=".0.0.0.4.0.0.$card-skill-challenge.0.0.0">
									<img alt="" th:src="@{/images/icon_progressive.png}" class="img-responsive" data-reactid=".0.0.0.4.0.0.$card-skill-challenge.0.0.0.0">
								</div>
							</div>
							<h2>forensics</h2>
						</div>
					</div>
					<div class="col-sm-6 col-md-4">

						<div class="card rc_4">
							<!-- News Post -->
							<div class="circle">
								<div class="icon" data-reactid=".0.0.0.4.0.0.$card-skill-challenge.0.0.0">
									<img alt="" th:src="@{/images/icon_progressive.png}" class="img-responsive" data-reactid=".0.0.0.4.0.0.$card-skill-challenge.0.0.0.0">
								</div>
							</div>
							<h2>pwn</h2>
						</div>
					</div>
				</div>
			</div>
	</div>

	<!-- Footer -->
	<footer th:replace="/common/footer :: footer">
	</footer>


</div>

<script src="js/jquery-3.2.1.min.js"></script>
<script src="styles/bootstrap4/popper.js"></script>
<script src="styles/bootstrap4/bootstrap.min.js"></script>
<script th:src="@{/layer/layer.js}"></script>
<script src="plugins/greensock/TweenMax.min.js"></script>
<script src="plugins/greensock/TimelineMax.min.js"></script>
<script src="plugins/scrollmagic/ScrollMagic.min.js"></script>
<script src="plugins/greensock/animation.gsap.min.js"></script>
<script src="plugins/greensock/ScrollToPlugin.min.js"></script>
<script src="plugins/scrollTo/jquery.scrollTo.min.js"></script>
<script src="plugins/easing/easing.js"></script>
<script src="js/news_custom.js"></script>

</body>
<script language="javascript">
    function two(){
        $("#custom").hide();
        $("#fade").hide();
    }
	$(function(){
        //当鼠标滑入时将div的class换成divOver
        $('.card').hover(function(){
                $(this).addClass('card-over');
            },function(){
                //鼠标离开时移除divOver样式
                $(this).removeClass('card-over');
            }
        );
    });

    $("#hard").change(function () {
        var easy_checked = $("input[type='checkbox']").is(':checked');
        if(easy_checked == true){
            $("#easy_num").removeAttr("disabled");
        }else{
            $("#easy_num").attr("disabled","disabled");
        }
    })
    $("#middle").change(function () {
        var easy_checked = $("input[type='checkbox']").is(':checked');
        if(easy_checked == true){
            $("#middle_num").removeAttr("disabled");
        }else{
            $("#middle_num").attr("disabled","disabled");
        }
    })
    $("#easy").change(function () {
        var easy_checked = $("input[type='checkbox']").is(':checked');
        if(easy_checked == true){
            $("#hard_num").removeAttr("disabled");
        }else{
            $("#hard_num").attr("disabled","disabled");
        }
    })
    $(".startExpTest").click(function (e) {
        var testClass = $(this).attr("value");
        $.ajax({
            url: "/test/test_exp/?testClass="+testClass,
            type: "POST",
            success:function(data){
                if(data.code == 0){
                    if(data.data == null) {
						layer.confirm("您已通过所有实验测试，是否重新开始？",{ skin:"layer-btn", btn: ['确定', '取消']
                        }, function(index, layero){
                            //按钮【按钮一】的回调
                        }, function(index){
                            //按钮【按钮二】的回调
                        });
                    }else{
                        document.location.href = "/test/test_exp?testClass="+testClass+"&testId="+data.data;
					}

                }else if(data.code==500210){
                    layer.msg("请先登录");
                } else{
                    layer.msg(data.msg);
                }
            },
            error:function(){
                layer.closeAll();
            }
        });
        // if(user == null || user == ""){
        //     layer.msg("请先登录");
        // }else {
        //
        //     document.location.href = "/test/test_exp?testClass="+$(this).attr("value");
        // }
    });
    $(".startFctfTest").click(function (e) {
        var testArea = $(this).attr("value");
        $.ajax({
            url: "/test/test_fctf/?testArea="+testArea,
            type: "POST",
            success:function(data){
                if(data.code == 0){
                    if(data.data == null) {
                        layer.confirm("您已通过所有实验测试，是否重新开始？",{ skin:"layer-btn", btn: ['确定', '取消']
                        }, function(index, layero){
                            //按钮【按钮一】的回调
                        }, function(index){
                            //按钮【按钮二】的回调
                        });
                    }else{
                        document.location.href = "/test/test_fctf?testArea="+testArea+"&testId="+data.data;
                    }

                }else if(data.code==500210){
                    layer.msg("请先登录");
                } else{
                    layer.msg(data.msg);
                }
            },
            error:function(){
                layer.closeAll();
            }
        });
        // if(user == null || user == ""){
        //     layer.msg("请先登录");
        // }else {
        //
        //     document.location.href = "/test/test_exp?testClass="+$(this).attr("value");
        // }
    });
</script>
<style>

</style>
</html>